<div id="div-page" class="container-fluid">

    <div class="container-fluid"  style="padding: 1% "> 
        <nav aria-disabled="true" class="navbar navbar-expand-md navbar-light" style="background-color: lightskyblue; padding-left: 0;">
            <div class="navbar-header">
                <a id="logo" class="navbar-brand" href="#"><img src="assets/img/logo5.jpg" alt="logo" width="80em" height="63em"></a>
            </div>
            <div class="mx-auto order-0">
                <a id="name" class="navbar-brand mx-auto disabled" style="color: darkblue;" href="#">Patient: {{_currentPatient.name}} {{_currentPatient.surname}} {{!_startMedicalExam ? '':'(Medical exam in progress)'}} </a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target=".dual-collapse2">
                    <span class="navbar-toggler-icon"></span>
                </button>
            </div>
            <div class="navbar-collapse collapse w-100 order-3 dual-collapse2">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <button class="btn btn-sm btn-outline-secondary" (click)="onClickedBack()" style="color:darkblue; margin: 4px"> Back </button>
                    </li>
                </ul>
            </div>
        </nav>
        <ul class="nav flex-column nav-pills" style="color: blue; background-color: lightskyblue;float:left;">
            <li class="nav-item">
                <button class="btn btn-sm btn-outline-secondary"  style="width: 18em; color:darkblue;" (click)="clickedShowInformation()"> Show information </button>
            </li>
            <li class="nav-item">
                <button class="btn btn-sm btn-outline-secondary"  style="width: 18em; color:darkblue;" (click)="clickedMedicalRecord()"> Medical Record </button>
            </li>
            <li class="nav-item">
                <button class="btn btn-sm btn-outline-secondary"  style="width: 18em; color:darkblue;" (click)="clickedMedicalReports()"> Medical Reports </button>
            </li>
            <li class="nav-item">
                <button class="btn btn-sm btn-outline-secondary"  style="width: 18em; color:darkblue;" (click)="clickedStartMedicalExam()" > {{!_startMedicalExam ? 'Start Medical Exam' : 'End Medical Exam' }}</button>
            </li>
            <li class="nav-item" *ngIf = '_startMedicalExam'>
                <button class="btn btn-sm btn-outline-secondary"  style="width: 18em; color:darkblue;" (click)="clickedCreateMedicalReport()"> Create Medical Report </button>
            </li>
        </ul> 
    </div>

    <div class='panel panel-primary' *ngIf = '_showInformation' style="float:left;margin-left:15%;width:35%;">
        <div class='panel-body'>
            <div class='table-responsive'>
                <table class='table' style="margin-top: 5%;">
                    <tr><th style="text-align: center;" colspan="2"> Personal Information </th> </tr>
                    <tr><th>Name:</th> <td> {{_currentPatient.name}} </td> </tr> 
                    <tr><th>Surname:</th> <td> {{_currentPatient.surname}} </td></tr> 
                    <tr><th>Email:</th> <td> {{_currentPatient.email}} </td> </tr>
                    <tr><th>Address:</th> <td> {{_currentPatient.address}} </td> </tr>  
                    <tr><th>City:</th> <td> {{_currentPatient.city}} </td> </tr>   
                    <tr><th>Country:</th> <td> {{_currentPatient.country}} </td> </tr> 
                    <tr><th>Phone Number:</th> <td> {{_currentPatient.phoneNumber}} </td> </tr>
                    <tr><th>Serial Number:</th> <td> {{_currentPatient.serialNumber}} </td> </tr>
                </table>
                <button style="width:8em; margin-left:11em; margin-bottom:3%;"  type="button"  class="btn btn-primary"  (click)="clickedClose()"> Close </button> 
            </div>
        </div>
    </div>

    <div class='panel panel-primary' *ngIf = '_showMedicalReports' style="float:left;margin-left:15%;width:35%;">
        <div class='panel-body'>
            <div class='table-responsive'>
                <table class='table' style="margin-top: 5%;">
                    <tr><th style="text-align: center;" colspan="5"> History of medical reports </th> </tr>
                    <tr> <th style="text-align: center;"> Date </th><th style="text-align: center;"> Time </th> <th style="text-align: center;" colspan="2"> Doctor </th> <th></th></tr>
                    <tr *ngFor="let report of _medicalReports"> <td> {{report.date}}  </td> <td>{{report.time}}</td> <td> {{report.doctor.name}}</td> <td>{{report.doctor.surname}}</td> <td><button style="width:6em;" type="button"  class="btn btn-primary" (click)="clickedOpenReport(report)"> Open </button></td> </tr> 
                
                </table>
                <button style="width:8em; margin-left:11em; margin-bottom:3%;"  type="button"  class="btn btn-primary"  (click)="clickedClose()"> Close </button> 
            </div>
        </div>
    </div>

    <div class="card" *ngIf='_showMedicalRecord' style="background-color: lightskyblue;" >
        <div class="card-content">
                <span class="card-title" style="color:darkblue; margin-left: 13em;"> <h3>Medical Record </h3></span>
        </div>
        <div class="col-white"> 
            <table class='table' id="medRecTable" style="border: 0;">
                <tr><th class="mr">Date of birth:</th> <td> {{_medicalRecord.dateOfBirth}} </td> </tr> 
                <tr><th class="mr">Height:</th> <td> {{_medicalRecord.height}} </td></tr> 
                <tr><th class="mr">Weight:</th> <td> {{_medicalRecord.weight}} </td> </tr>
                <tr><th class="mr">Diopter:</th> <td> {{_medicalRecord.diopter}} </td> </tr>
                <tr><th class="mr">Blood type:</th> <td> {{_medicalRecord.bloodType}} </td> </tr>  
                <tr><th class="mr">Organ donor:</th> <td> {{_medicalRecord.organDonor}} </td> </tr>   
            </table>
            <button style="width:14em; margin-left:22em; margin-bottom:3%;"  [disabled]="!_startMedicalExam"  type="button"  class="btn btn-primary"  (click)="clickedChangeInformation()"> Change Information</button> 
        </div>
        <div class="row"> 
            <div style="margin-left: 9.5%; margin-right:5%;">
                <table class='table'  style="border: 0;  width:18em;">
                    <tr><th class="mr">Allergic to medication</th> </tr> 
                    <tr *ngFor="let med of _allergicMedicationList"> <td> {{med.description}} </td> </tr>
                </table>
                <button style="width:6em;  margin-left:6em" [disabled]="!_startMedicalExam"  type="button"  class="btn btn-primary"  (click)="addAllergicMedication()"> Add</button> 
            </div>
            <div style="margin-left: 7%; margin-right:5%;">
                <table class='table'  style="border: 0;   width:18em;">
                    <tr><th class="mr">Chronical conditions </th> </tr> 
                    <tr *ngFor="let ch of _chronicConditionList"> <td> {{ch.description}} </td> </tr>
                </table>
                <button style="width:6em; margin-left:6em"  [disabled]="!_startMedicalExam" type="button"  class="btn btn-primary"  (click)="addChronicCondition()"> Add</button> 
            </div>                  
        </div>
    </div>
    <notifier-container></notifier-container>
  </div>

  