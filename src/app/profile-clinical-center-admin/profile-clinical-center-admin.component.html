<div class="container-fluid">

    <nav class="navbar navbar-expand-md navbar-light" style="background-color: lightgreen;">
        
        <div class="mx-auto order-0">
            <a class="navbar-brand mx-auto disabled" href="#" style="color: darkgreen;">Profile page for clinical center administrator: {{_currentAdmin.name}} {{_currentAdmin.surname}}</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target=".dual-collapse2">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>
        <div class="navbar-collapse collapse w-100 order-3 dual-collapse2">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item" *ngIf='newRequests'>
                    <button class="btn btn-outline-success" (click)="clickNewRequest()" style="background-color: red; color: white; margin: 4px"> New requests for registration</button>
                </li>
                <li class="nav-item">
                    <button class="btn btn-outline-success" (click)="clickedProfile()" style=" margin: 4px"> Profile </button>
                    
                    </li>
                <li class="nav-item">
                    <button class="btn btn-outline-success" (click)="clickedLogout()"style=" margin: 4px" > Log out </button>
                    
                </li>
            </ul>
        </div>
    </nav>

    <ul class="nav flex-column nav-pills" style="color: blue; background-color: lightgreen; float:left;">   
        <li class="nav-item">
            <button class="btn btn-sm btn-outline-secondary" style="width: 24em; color:darkgreen;" (click)="clickMedicationCodebook()"> Medication Codebook </button>
         <!-- <a class="nav-link" [routerLink]="" (click)="clickMedicationCodebook()" >Medication Codebook</a> -->
        </li>
        <li class="nav-item">
            <button class="btn btn-sm btn-outline-secondary" style="width: 24em; color:darkgreen" (click)="clickDiagnosisCodebook()"> Diagnosis Codebook </button>
           <!-- <a class="nav-link" [routerLink]="" (click)="clickDiagnosisCodebook()" >Diagnosis Codebook</a>-->
        </li>
        <li class="nav-item">
            <button class="btn btn-sm btn-outline-secondary" style="width: 24em; color:darkgreen" (click)="clickRegisterClCAdmin()"> Register clinical center administrator</button>
          <!--<a class="nav-link" [routerLink]="" (click)="clickRegisterClCAdmin()" >Register clinical center administrator</a>-->
        </li>
        <li class="nav-item">
            <button class="btn btn-sm btn-outline-secondary" style="width: 24em; color:darkgreen;" (click)="clickRegisterClinicAdmin()"> Register clinic administrator</button>
          <!--<a class="nav-link"  [routerLink]="" (click)="clickRegisterClinicAdmin()" >Register clinic administrator</a>-->
        </li>
        <li class="nav-item">
            <button class="btn btn-sm btn-outline-secondary" style="width: 24em; color:darkgreen" (click)="clickRegisterClinic()"> Register clinic</button>
            <!--<a class="nav-link" [routerLink]="" (click)="clickRegisterClinic()">Register clinic</a>-->
        </li>
    </ul>
    

    <div class='panel panel-primary' *ngIf = 'showInformation'>
        <div class='panel-body'>
            <div class='table-responsive'>
                <table class='table' style="margin-top: 5%;">
                    <tr><th style="text-align: center;" colspan="2"> Personal Information </th> </tr>
                    <tr><th>Name:</th> <td> {{_currentAdmin.name}} </td> </tr> 
                    <tr><th>Surname:</th> <td> {{_currentAdmin.surname}} </td></tr> 
                    <tr><th>Email:</th> <td> {{_currentAdmin.email}} </td> </tr>
                    <tr><th>Address:</th> <td> {{_currentAdmin.address}} </td> </tr>  
                    <tr><th>City:</th> <td> {{_currentAdmin.city}} </td> </tr>   
                    <tr><th>Country:</th> <td> {{_currentAdmin.country}} </td> </tr> 
                    <tr><th>Phone Number:</th> <td> {{_currentAdmin.phoneNumber}} </td> </tr>
                    <tr><th>Serial Number:</th> <td> {{_currentAdmin.serialNumber}} </td> </tr> 
                    <tr> 
                        <td style="text-align: center;" class="b" > <button style="width:13em;margin-right: 5%;margin-left:5%;" class="btn btn-primary"   (click)="clickedChangePassword()"> Change Password </button> </td>
                        <td style="text-align: center;" class="b" > <button style="width:13em;margin-right: 5%;margin-left:5%;" class="btn btn-primary"  (click)='clickEditInformation()'> Edit Information </button></td>    
                    </tr>
                </table>
            </div>
        </div>
    </div>

    <div class='panel panel-primary' *ngIf ='showMedicationCodebook'>
        <div class='panel-body'>
            <div class='table-responsive' style="margin-bottom: 5%;">
                <table class='table' style="margin-top: 5%;">
                    <tr><th style="text-align: center;" colspan="3"> Medication Codebook </th> </tr>
                    <tr> <th style="text-align: center;">Code</th> <th style="text-align: center;">Description</th> <th style="text-align: center;"> Edit </th> </tr> 
                    <tr *ngFor="let med of _medications"> <td>{{med.code}}</td> <td>{{med.description}}</td> 
                        <td><button style="margin-right: 5%;margin-left:5%;background-color: green;width:6em;" type="button" class="btn btn-primary" (click)='clickEditMedication(med)'>Edit</button></td>
                    </tr> 
                </table>
                <button style="width:6em;margin-right: 5%;margin-left:5%;" type="button"  class="btn btn-primary" (click)="clickBack()">Back</button>
                <button style="width:12em;margin-right: 5%;margin-left:5%;" type="button"  class="btn btn-primary" (click)='clickNewMedication()' >New Medication</button>
            </div>
        </div>
    </div>

    <div class='panel panel-primary' *ngIf ='showDiagnosisCodebook'>
        <div class='panel-body'>
            <div class='table-responsive' style="margin-bottom: 5%;">
                <table class='table' style="margin-top: 5%;">
                    <tr><th style="text-align: center;" colspan="3"> Diagnosis Codebook </th> </tr>
                    <tr> <th style="text-align: center;">Code</th> <th style="text-align: center;">Description</th> <th style="text-align: center;"> Edit </th> </tr> 
                    <tr *ngFor="let d of _diagnosis"> <td>{{d.code}}</td> <td>{{d.description}}</td> 
                        <td><button style="margin-right: 5%;margin-left:5%;background-color: green;width:6em;" type="button" class="btn btn-primary" (click)='clickEditDiagnosis(d)'>Edit</button></td>
                    </tr>
                </table>
                <button style="width:6em;margin-right: 5%;margin-left:5%;" type="button"  class="btn btn-primary" (click)="clickBack()">Back</button>
                <button style="width:12em;margin-right: 5%;margin-left:5%;" type="button"  class="btn btn-primary" (click)="clickNewDiagnosis()">New Diagnosis</button>
            </div>
        </div>
    </div>

    <div class='panel panel-primary' *ngIf = 'showNewRequests' >
            <div class="card" style="background: lightgreen;  margin-top: 2%; margin-left: 2%;" >
                <div class="card-content">
                    <span class="card-title">New requests for registration: </span>
                </div>
                <table class='table'>
                  <tr> <th>Name</th> <th>Surname</th> <th>Email</th> <th>Address</th> <th>City</th> <th>Country</th> <th style="text-align: center;">Accept</th> <th style="text-align: center;">Reject</th> </tr> 
                  <tr *ngFor="let user of userRequests"> <td>{{user.name}}</td> <td>{{user.surname}}</td> <td>{{user.email}}</td> <td>{{user.address}}</td> <td>{{user.city}}</td> <td>{{user.country}}</td>
                    <td><button style="margin-right: 5%;margin-left:5%;background-color: green;width:8em;" type="button" class="btn btn-primary" (click)='clickAcceptRequest(user.id)' >Accept</button></td>
                    <td><button style="margin-right: 5%;margin-left:5%;width:8em;" type="button"  class="btn btn-danger" (click)='clickRejectRequest(user.id,user.email,user.name,user.surname)'>Reject</button></td>
                 </tr>
                  <tr> 
                      <td style="text-align: center; background-color: lightgreen;" > <button style="width:8em;margin-right: 5%;margin-left:5%;" type="button"  class="btn btn-primary" (click)="clickBack()">Back</button></td> 
                
                  </tr>
                </table>
                
            </div>
    </div>
    

</div>


<!--<jw-modal id="custom-modal-1" style="right: 30%; left: 30%;">
    <div class="card" style="background: lightgreen;">
        <div class="card-content">
            <span class="card-title">Change your current password</span>
        </div>
        <form class="col white" (ngSubmit)="closeModalWithSave('custom-modal-1')" #pasForm="ngForm">
            <input class="validate"  type="password" placeholder="Enter your old password here" name="oldPassword"  required [(ngModel)]="_passwordChanger.oldPassword" #oldPassword="ngModel" />
            <small id="oldPswHelp" class="form-text text-muted">Your old password is required.</small>
            <input class="validate"  type="password" placeholder="Enter your new password here" name="newPassword" required minlength="6" [(ngModel)]="_passwordChanger.newPassword" #newPassword="ngModel" />
            <small id="newPswHelp" class="form-text text-muted">New password is required.</small>
            <button type="button" class="btn btn-primary" (click)="closeModal('custom-modal-1');">Back</button>
            <button type="submit" class="btn btn-primary" [disabled]="!pasForm.form.valid" >Save</button>
        </form>
    </div>
</jw-modal>-->


    



